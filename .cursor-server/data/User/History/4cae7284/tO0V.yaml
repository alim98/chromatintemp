# Configuration for training the low-resolution texture model
project_directory: "experiments/lowres_texture_model"
device: "cpu"  # Use "cuda" if CUDA is available

# Training configuration
model_name: "UNet3D"  # Model type from neurofire.models
model_kwargs:
  in_channels: 1
  out_channels: 1
  initial_num_fmaps: 16
  fmap_growth: 2
  final_activation: "Sigmoid"
  # Ensure to use trilinear interpolation for 3D data
  scale_factor: 2

# Loss configuration
loss: "MSELoss"
loss_kwargs: {}

# Optimizer configuration
training_optimizer_kwargs:
  optimizer: "Adam"
  optimizer_kwargs:
    lr: 0.0001
    weight_decay: 0.0001

# General training settings
num_epochs: 5
smoothness: 0.95
opt_level: "O1"
mixed_precision: "False"

# Data configuration
data_config:
  root_dir: "nuclei_sample_1a_v1"
  class_csv_path: "chromatin_classes_and_samples.csv"
  is_cytoplasm: false  # Set to true for cytoplasm samples (144³ box instead of 104³)
  box_size: [104, 104, 104]  # Size of the box to crop (H, W, D) - will be overridden if is_cytoplasm is true
  split: 0.2  # 20% of data for validation
  seed: 42

# Loader configurations
loader_config:
  batch_size: 4  # Reduce batch size for 3D data to avoid memory issues
  shuffle: true
  num_workers: 0  # Set to 0 to avoid pickling issues with multiprocessing
  pin_memory: true

val_loader_config:
  batch_size: 4
  shuffle: false
  num_workers: 0  # Set to 0 to avoid pickling issues with multiprocessing
  pin_memory: true

pred_loader_config:
  batch_size: 1
  shuffle: false
  num_workers: 0
  pin_memory: false 